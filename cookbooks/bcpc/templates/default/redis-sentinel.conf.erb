################################################
#
#              Generated by Chef
#
################################################

bind <%=node['bcpc']['management']['ip']%>
loglevel notice
logfile /var/log/redis/redis-sentinel.log
daemonize yes
pidfile /var/run/redis/redis-sentinel.pid

<% @servers.each do |server| -%>
sentinel monitor <%=server['hostname']%> <%=server['bcpc']['management']['ip']%> 6379 <%=@min_quorum%>
sentinel down-after-milliseconds <%=server['hostname']%> 10000
sentinel failover-timeout <%=server['hostname']%> 180000
sentinel parallel-syncs <%=server['hostname']%> 1

<% end -%>

